<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.phgym.main.model.MainMapper">
	<!-- 쿼리 작성 -->
	
	<insert id="buyPromotion" parameterType="com.phgym.mypage.model.MembershipPayHisDTO" >
		INSERT INTO MEMBERSHIP_PAY_HIS(MEMBERSHIP_PAY_NO, USER_NO, PAY_DATE, START_DATE, END_DATE, PAY_METHOD, REFUND_BANKNAME, REFUND_BANKACCOUNT, PAY_CNT, PAY_AMOUNT)
		VALUES(membership_pay_his_seq.nextval, #{userNo}, sysdate, #{startDate}, #{endDate}, #{payMethod}, #{refundBankname}, #{refundBankAccount}, #{payCnt}, #{payAmount})
	</insert>
	
	
	<select id="goPromotionPay" parameterType="int" resultType="com.phgym.join.model.UserInfoDTO">
		SELECT * FROM USER_INFO WHERE USER_NO = #{sessionUserNo}
	</select>
</mapper>